# Love Rank Pulse - Environment Variables

# ============================================================================
# Frontend Configuration (VITE_ prefix required for client-side access)
# ============================================================================

# API Configuration
VITE_API_URL=https://api.loverankpulse.com
VITE_API_TIMEOUT=30000

# Authentication
VITE_AUTH_DOMAIN=auth.loverankpulse.com
VITE_AUTH_CLIENT_ID=your-auth-client-id
VITE_AUTH_AUDIENCE=your-auth-audience

# Feature Flags
VITE_ENABLE_REAL_TIME_UPDATES=true
VITE_ENABLE_COUNTRY_LEADERBOARDS=true
VITE_ENABLE_SESSION_LEADERBOARDS=true

# Analytics
VITE_ANALYTICS_ID=your-analytics-id

# ============================================================================
# Backend/API Configuration (Server-side only)
# ============================================================================

# Database Configuration - PostgreSQL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://postgres:password@localhost:5432/loverankpulse?schema=public

# Database Connection Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_CONNECTION_TIMEOUT=20000
DATABASE_IDLE_TIMEOUT=30000
DATABASE_MAX_LIFETIME=1800000

# Database Performance
DATABASE_STATEMENT_TIMEOUT=30000
DATABASE_QUERY_TIMEOUT=15000
DATABASE_POOL_ACQUIRE_TIMEOUT=10000

# Redis Configuration
# Format: redis://USER:PASSWORD@HOST:PORT/DATABASE
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Redis Connection Pool Settings
REDIS_POOL_MIN=2
REDIS_POOL_MAX=10
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=3000
REDIS_KEEP_ALIVE=30000

# Redis Retry Configuration
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_RECONNECT_DELAY=1000

# ============================================================================
# Cache Configuration
# ============================================================================

# Cache TTL (Time To Live) in seconds
CACHE_TTL_LEADERBOARD=300
CACHE_TTL_PLAYER_STATS=600
CACHE_TTL_MATCH_DATA=120
CACHE_TTL_COUNTRY_STATS=900
CACHE_TTL_SESSION_DATA=180

# Cache Strategy
CACHE_STRATEGY=stale-while-revalidate
CACHE_MAX_SIZE=1000
CACHE_EVICTION_POLICY=lru

# ============================================================================
# API Gateway Configuration
# ============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100

# Request Timeouts
API_REQUEST_TIMEOUT=30000
API_CONNECT_TIMEOUT=5000

# Circuit Breaker
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# ============================================================================
# Security Configuration
# ============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=86400
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRATION=604800

# CORS Settings
CORS_ORIGIN=http://localhost:5173,https://loverankpulse.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080
CORS_CREDENTIALS=true

# Security Headers
ENABLE_HELMET=true
ENABLE_RATE_LIMITING=true
ENABLE_COMPRESSION=true
ENABLE_CORS=true
ENABLE_LOGGING=true

# ============================================================================
# Logging Configuration
# ============================================================================

# Logging Format (combined, dev, json)
LOG_FORMAT=dev

# ============================================================================
# Monitoring & Logging
# ============================================================================

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_REQUESTS=true
LOG_ERRORS=true

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

# ============================================================================
# Deployment Environment
# ============================================================================

# Environment Type
NODE_ENV=development

# Server Configuration
PORT=3000
HOST=0.0.0.0

# Vercel Configuration (automatically set by Vercel)
# VERCEL_ENV=production|preview|development
# VERCEL_URL=
# VERCEL_REGION=

# ============================================================================
# External Services
# ============================================================================

# Email Service (if needed)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_FROM=noreply@loverankpulse.com

# CDN Configuration
# CDN_URL=https://cdn.loverankpulse.com
# CDN_BUCKET=loverankpulse-assets

# ============================================================================
# Development & Testing
# ============================================================================

# Test Database (separate from production)
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/loverankpulse_test?schema=public
TEST_REDIS_URL=redis://localhost:6379/1

# Mock Data
ENABLE_MOCK_DATA=false
MOCK_DELAY=100

# Debug Settings
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false

# Database Configuration (Docker)
POSTGRES_USER=loverank
POSTGRES_PASSWORD=loverank_dev_password
POSTGRES_DB=loverank_db
POSTGRES_PORT=5432

# Redis Configuration (Docker)
REDIS_PASSWORD=redis_dev_password
REDIS_PORT=6379

# Optional: PgAdmin (Dev Tools)
PGADMIN_EMAIL=admin@loverank.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Optional: Redis Commander (Dev Tools)
REDIS_COMMANDER_PORT=8081

# Redis Cache Configuration (Application)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_dev_password
REDIS_DB=0
REDIS_CONNECTION_POOL_SIZE=10
REDIS_RETRY_ATTEMPTS=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# Cache Feature Flags
VITE_ENABLE_REDIS_CACHE=true
VITE_CACHE_DEBUG=false